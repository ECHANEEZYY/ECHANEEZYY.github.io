<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>iOSå†…å­˜ç®¡ç†ä¹‹MRC | ECHANLSAKFJOISYYZZZ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="åœ¨ Xcode 4.2 ä¹‹å‰è¿˜æ²¡å¼•å…¥ ARC çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ MRC æ¥ç®¡ç†iOSé¡¹ç›®çš„å†…å­˜ã€‚  MRC(MannulReference Counting)ARC(Automatic Reference Counting)  ARCå’ŒMRCåŸç†ä¸€æ ·ï¼Œåªæ˜¯ARCä¸‹æ— éœ€æ‰‹å·¥retainæˆ–è€…releaseï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç®¡ç†å·²åˆ›å»ºçš„å¯¹è±¡æˆ–å†…å­˜ç©ºé—´ã€‚ä½¿ç”¨ARCå¯ä»¥çœå»è®¸å¤šç¹å¤çš„æ“ä½œï¼Œè€Œä½¿ç”¨MRCå¯ä»¥æŒ‰è‡ªå·±æœŸ">
<meta name="keywords" content="iOS">
<meta property="og:type" content="article">
<meta property="og:title" content="iOSå†…å­˜ç®¡ç†ä¹‹MRC">
<meta property="og:url" content="http://www.echan.me/2017/08/16/iOSå†…å­˜ç®¡ç†ä¹‹MRC/index.html">
<meta property="og:site_name" content="ECHANLSAKFJOISYYZZZ">
<meta property="og:description" content="åœ¨ Xcode 4.2 ä¹‹å‰è¿˜æ²¡å¼•å…¥ ARC çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ MRC æ¥ç®¡ç†iOSé¡¹ç›®çš„å†…å­˜ã€‚  MRC(MannulReference Counting)ARC(Automatic Reference Counting)  ARCå’ŒMRCåŸç†ä¸€æ ·ï¼Œåªæ˜¯ARCä¸‹æ— éœ€æ‰‹å·¥retainæˆ–è€…releaseï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç®¡ç†å·²åˆ›å»ºçš„å¯¹è±¡æˆ–å†…å­˜ç©ºé—´ã€‚ä½¿ç”¨ARCå¯ä»¥çœå»è®¸å¤šç¹å¤çš„æ“ä½œï¼Œè€Œä½¿ç”¨MRCå¯ä»¥æŒ‰è‡ªå·±æœŸ">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://github.com/ECHANEEZYY/BlogPhotos/blob/master/WechatIMG190.jpeg?raw=true">
<meta property="og:image" content="https://github.com/ECHANEEZYY/BlogPhotos/blob/master/WechatIMG191.jpeg?raw=true">
<meta property="og:updated_time" content="2017-09-19T06:46:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOSå†…å­˜ç®¡ç†ä¹‹MRC">
<meta name="twitter:description" content="åœ¨ Xcode 4.2 ä¹‹å‰è¿˜æ²¡å¼•å…¥ ARC çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ MRC æ¥ç®¡ç†iOSé¡¹ç›®çš„å†…å­˜ã€‚  MRC(MannulReference Counting)ARC(Automatic Reference Counting)  ARCå’ŒMRCåŸç†ä¸€æ ·ï¼Œåªæ˜¯ARCä¸‹æ— éœ€æ‰‹å·¥retainæˆ–è€…releaseï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç®¡ç†å·²åˆ›å»ºçš„å¯¹è±¡æˆ–å†…å­˜ç©ºé—´ã€‚ä½¿ç”¨ARCå¯ä»¥çœå»è®¸å¤šç¹å¤çš„æ“ä½œï¼Œè€Œä½¿ç”¨MRCå¯ä»¥æŒ‰è‡ªå·±æœŸ">
<meta name="twitter:image" content="https://github.com/ECHANEEZYY/BlogPhotos/blob/master/WechatIMG190.jpeg?raw=true">
  
    <link rel="alternate" href="/atom.xml" title="ECHANLSAKFJOISYYZZZ" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/tocas.css">
  <link rel="stylesheet" href="/css/animate.css">
  <link rel="stylesheet" href="/css/style.css">
  <style type="text/css">
    a.title-link:hover{
        color: #34b2db !important;
    }

    a.title-link:active{
        color: #2075c1 !important;
    }

    #menu-color-id{
        background : #f7f7f7;
    }

    #menu-color-id a{
        color: #5a5a5a;
    }
  </style>
  <script src="/js/tocas.js"></script>
  

</head>

<body>
<!-- navigation -->

<div class="ts fluid basic link big menu" id="menu-color-id">

    <!-- ejs : align to post page or index page -->
        
            <div class="ts very narrow container">
        

        
            <a class="item" href="/">Home</a>
        
            <a class="item" href="/about">About</a>
        
    </div>
</div>
<!-- the end of navigation -->

<!-- big bang title -->
<div class="ts padded horizontally fitted fluid slate" style="background-color: #000000;">
    <!-- ejs : align to post page or index page -->
    
        <div class="ts very narrow container">
    
        <!-- Title -->
        <h1 class="ts eleven wide column header be-center-h1">
            <span style="color: #ffffff;" id="big-title">ECHANLSAKFJOISYYZZZ</span>
            <div class="sub header" id="slogan-bar" style=" margin-top: 15px; color: #ffffff;"></div>
        </h1>
        <!-- the end of title -->
    </div>
</div>
<!-- the end of big bang title -->


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">

<!-- main section -->
<div class="ts text container">
        <!-- left section -->
        <div class="column" style=" padding: 35px; ">
            <!-- Articles -->
                
                <h3 class="ts header">
                    <span style="color: #333;">iOSå†…å­˜ç®¡ç†ä¹‹MRC</span>
                    <div class="sub header" style="color: #808080;">Publish: 2017/7/16 
                     &nbsp;&nbsp;
                        <ul class="unstyled radius-tag -list"><li class="unstyled radius-tag -list-item"><a class="unstyled radius-tag -list-link" href="/tags/iOS/">iOS</a></li></ul>
                    
                    </div>
                </h3>

                <p>åœ¨ Xcode 4.2 ä¹‹å‰è¿˜æ²¡å¼•å…¥ ARC çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ MRC æ¥ç®¡ç†iOSé¡¹ç›®çš„å†…å­˜ã€‚</p>
<blockquote>
<p>MRC(MannulReference Counting)<br>ARC(Automatic Reference Counting)</p>
</blockquote>
<p>ARCå’ŒMRCåŸç†ä¸€æ ·ï¼Œåªæ˜¯ARCä¸‹æ— éœ€æ‰‹å·¥<code>retain</code>æˆ–è€…<code>release</code>ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç®¡ç†å·²åˆ›å»ºçš„å¯¹è±¡æˆ–å†…å­˜ç©ºé—´ã€‚ä½¿ç”¨ARCå¯ä»¥çœå»è®¸å¤šç¹å¤çš„æ“ä½œï¼Œè€Œä½¿ç”¨MRCå¯ä»¥æŒ‰è‡ªå·±æœŸæœ›ç²¾ç¡®åœ°ç®¡ç†å¯¹è±¡åŠå†…å­˜çš„ä½¿ç”¨ï¼ŒåŒæ—¶é€šè¿‡ä½¿ç”¨MRCä¹Ÿæ˜“äºç†è§£iOSé¡¹ç›®å†…å­˜ç®¡ç†çš„æœ¬è´¨ã€‚<br><a id="more"></a><br>åœ¨<code>TARGETS</code>çš„<code>Build Settings</code>ä¸­å°†LLVMç¼–è¾‘å™¨è®¾ç½®ARCä¸ºæ— æ•ˆå°±å¯ä»¥ä½¿ç”¨MRCç®¡ç†å†…å­˜äº†ã€‚<br><br><img align="left" src="https://github.com/ECHANEEZYY/BlogPhotos/blob/master/WechatIMG190.jpeg?raw=true" width="500/"><br><br><br><br><br></p>
<h5 id="å†…å­˜ç®¡ç†åŸºæœ¬è§„åˆ™"><a href="#å†…å­˜ç®¡ç†åŸºæœ¬è§„åˆ™" class="headerlink" title="å†…å­˜ç®¡ç†åŸºæœ¬è§„åˆ™"></a>å†…å­˜ç®¡ç†åŸºæœ¬è§„åˆ™</h5><p>ğŸ’¡ è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰ã€‚<br>   (You own any object you create.)<br>ğŸ’¡ éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿèƒ½æŒæœ‰ã€‚<br>   (You can take ownership of an object using retain.)<br>ğŸ’¡ ä¸å†éœ€è¦æŒæœ‰å¯¹è±¡æ—¶é‡Šæ”¾ã€‚<br>   (When you no longer need it, you must relinquish ownership of an object you own.)<br>ğŸ’¡ éè‡ªå·±æŒæœ‰çš„å¯¹è±¡æ— æ³•é‡Šæ”¾ã€‚<br>   (You must not relinquish ownership of an object you do not own.)</p>
<h6 id="ç›¸å…³æ–¹æ³•"><a href="#ç›¸å…³æ–¹æ³•" class="headerlink" title="ç›¸å…³æ–¹æ³•"></a>ç›¸å…³æ–¹æ³•</h6><p><img align="left" src="https://github.com/ECHANEEZYY/BlogPhotos/blob/master/WechatIMG191.jpeg?raw=true" width="80/"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></p>
<h5 id="ğŸ“-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰ã€‚"><a href="#ğŸ“-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰ã€‚" class="headerlink" title="ğŸ“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰ã€‚"></a>ğŸ“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰ã€‚</h5><blockquote>
<p>å½“ä¸€ä¸ªå¯¹è±¡ç”±<code>alloc/new/copy/mutableCopy</code>å…¶ä¸­ä¸€ç§æ–¹æ³•ç”Ÿæˆï¼Œè¡¨ç¤ºè‡ªå·±ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡ï¼Œç³»ç»Ÿä¼šç»™è¿™ä¸ªå¯¹è±¡åˆ†é…ä¸€å—å†…å­˜ï¼Œæ­¤æ—¶è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ç”±<code>0</code>å˜ä¸º<code>1</code>ï¼Œè¡¨ç¤ºæœ‰ä¸€ä¸ªå¯¹è±¡æˆ–æŒ‡é’ˆæŒæœ‰è¿™å—å†…å­˜ã€‚</p>
</blockquote>
<p>ä¸Šä»£ç ï¼š<br><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *view1 = [[<span class="built_in">UIView</span> alloc] init];</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"%lu"</span>,[view1 retainCount]);</div></pre></td></tr></table></figure></p>
<p>å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å¯ä»¥ç”¨<code>retainCount</code>å®ä¾‹æ–¹æ³•å–å¾—(æ­¤å¤„ç”¨<code>retainCount</code>æ–¹æ³•ä¸¾ä¾‹ï¼Œæ–¹ä¾¿ç†è§£ï¼Œå®é™…ä¸Šè¿™ä¸ªæ–¹æ³•ä¸è¢«æ¨èä½¿ç”¨)ï¼Œå¯ä»¥çœ‹åˆ°æ­¤æ—¶æ‰“å°çš„<code>view1</code>çš„retainCount=<code>1</code>ã€‚</p>
<h5 id="ğŸ“-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿèƒ½æŒæœ‰ã€‚"><a href="#ğŸ“-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿèƒ½æŒæœ‰ã€‚" class="headerlink" title="ğŸ“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿèƒ½æŒæœ‰ã€‚"></a>ğŸ“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿèƒ½æŒæœ‰ã€‚</h5><blockquote>
<p>å½“æœ‰å¦ä¸€ä¸ªå¯¹è±¡æˆ–æŒ‡é’ˆæŒ‡å‘ã€æŒæœ‰è¿™å—å†…å­˜ï¼ŒåŸå¯¹è±¡çš„å¼•ç”¨è®¡æ•°åœ¨åŸæ¥çš„åŸºç¡€ä¸Š+<code>1</code>ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *view1 = [[<span class="built_in">UIView</span> alloc] init];</div><div class="line"><span class="built_in">UIView</span> *view2 = view1;</div><div class="line">[view2 <span class="keyword">retain</span>];</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"%lu"</span>,[view1 retainCount]);</div></pre></td></tr></table></figure>
<p>æ‰“å°çš„<code>view1</code>çš„retainCount=<code>2</code>ã€‚<br>retainæ–¹æ³•ç”¨æ¥æŒæœ‰éè‡ªå·±ç”Ÿæˆå¹¶æŒæœ‰çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰<code>[view2 retain]</code>,åˆ™<code>view2</code>å¹¶æœªæ‹¥æœ‰<code>view1</code>çš„æ‰€æœ‰æƒï¼Œæ­¤æ—¶æ‰“å°çš„<code>view1</code>çš„retainCountä»ç„¶ä¸º<code>1</code>ã€‚</p>
<h5 id="ğŸ“-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-ä¸å†éœ€è¦æŒæœ‰å¯¹è±¡æ—¶é‡Šæ”¾ã€‚"><a href="#ğŸ“-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-ä¸å†éœ€è¦æŒæœ‰å¯¹è±¡æ—¶é‡Šæ”¾ã€‚" class="headerlink" title="ğŸ“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸å†éœ€è¦æŒæœ‰å¯¹è±¡æ—¶é‡Šæ”¾ã€‚"></a>ğŸ“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸å†éœ€è¦æŒæœ‰å¯¹è±¡æ—¶é‡Šæ”¾ã€‚</h5><blockquote>
<p>å½“ä¸€ä¸ªå¯¹è±¡ä¸å†éœ€è¦ä½¿ç”¨æ—¶ï¼Œå¿…é¡»å°†è¯¥å¯¹è±¡é‡Šæ”¾,é‡Šæ”¾å®Œæˆåä¸è¯¥å¯¹è±¡ç›¸å…³çš„å¼•ç”¨è®¡æ•°-<code>1</code>ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *view1 = [[<span class="built_in">UIView</span> alloc] init];</div><div class="line">[view1 release];</div></pre></td></tr></table></figure>
<p>å¯¹è±¡ä¸€ç»é‡Šæ”¾ä¸å¯å†è®¿é—®ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°å‡åˆ°<code>0</code>æ—¶ï¼Œç³»ç»Ÿä¼šè°ƒç”¨<code>dealloc</code>æ–¹æ³•åºŸå¼ƒè¯¥å¯¹è±¡ï¼Œå…¶å ç”¨çš„å†…å­˜ä¼šè¢«ç³»ç»Ÿå›æ”¶ã€‚<br><br><strong>éœ€è¦æ³¨æ„çš„æ˜¯</strong>ï¼š<br><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *view1 = [[<span class="built_in">UIView</span> alloc] init];</div><div class="line"><span class="built_in">UIView</span> *view2 = view1;</div><div class="line">[view1 release];</div><div class="line">[view2 setBackgroundColor:[<span class="built_in">UIColor</span> blackColor]];</div></pre></td></tr></table></figure></p>
<p>ä¸Šè¿°æƒ…å†µç¨‹åºä¼šå´©æºƒï¼ŒåŸå› æ˜¯view1è¢«releaseï¼Œç»è¿‡deallocåå†…å­˜è¢«ç³»ç»Ÿå›æ”¶ï¼Œview1ä¸å†æŒæœ‰å†…å­˜ã€‚è€Œview2ä»ç„¶æŒ‡å‘è¿™å—å†…å­˜çš„åœ°å€ï¼Œå…¶æ‰€æŒ‡çš„ä½ç½®å·²ç»è¢«é”€æ¯ï¼Œæ‰€ä»¥æ­¤æ—¶çš„view2æ˜¯é‡æŒ‡é’ˆï¼Œå®ƒå¯ä»¥æŒ‡å‘ä¸€å—åœ°æ–¹ï¼Œä½†æ˜¯å¯¹å®ƒè¿›è¡Œä»»ä½•æ“ä½œï¼Œç¨‹åºå°±ä¼šå´©æºƒã€‚<br>æ­¤æ—¶å¦‚æœview2è¿˜éœ€è¦,å¯ä»¥ç»™å®ƒèµ‹ä¸€ä¸ªæŒæœ‰å†…å­˜çš„æ–°å€¼ä»¥å¯¹view2è¿›è¡Œæ“ä½œï¼Œæˆ–è€…æš‚æ—¶å…ˆç»™å®ƒä¸€ä¸ªnilã€‚<br><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *view3 = [[<span class="built_in">UIView</span> alloc] init];</div><div class="line">view2 = view3;</div><div class="line">[view2 setFrame:<span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>)];</div><div class="line"></div><div class="line"><span class="comment">//æˆ–å…ˆç»™å®ƒä¸€ä¸ªnilï¼Œä¹‹åå†è¿›è¡Œä»¥ä¸Šç±»ä¼¼æ“ä½œã€‚</span></div><div class="line">view2 = <span class="literal">nil</span>;</div></pre></td></tr></table></figure></p>
<p>æˆ–è€…ä¸€å¼€å§‹å°±retainï¼š<br><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *view1 = [[<span class="built_in">UIView</span> alloc] init];</div><div class="line"><span class="built_in">UIView</span> *view2 = view1;</div><div class="line">[view2 <span class="keyword">retain</span>];</div><div class="line">[view1 release];</div><div class="line">[view2 setBackgroundColor:[<span class="built_in">UIColor</span> blackColor]];</div></pre></td></tr></table></figure></p>
<p>å¦‚æ­¤å°±ç®—view1é‡Šæ”¾ï¼Œview2è¿˜æ˜¯æŒæœ‰è¿™å—å†…å­˜ï¼Œè¿™æ ·å°±å¯ä»¥ç»§ç»­å¯¹view2è¿›è¡Œæ“ä½œå•¦ï¼æ“ä½œä¸€æ³¢ä¹‹åä¸å†éœ€è¦view2äº†è®°å¾—releaseæ‰å®ƒã€‚</p>
<h5 id="ğŸ“-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-éè‡ªå·±æŒæœ‰çš„å¯¹è±¡æ— æ³•é‡Šæ”¾ã€‚"><a href="#ğŸ“-nbsp-nbsp-nbsp-nbsp-nbsp-nbsp-éè‡ªå·±æŒæœ‰çš„å¯¹è±¡æ— æ³•é‡Šæ”¾ã€‚" class="headerlink" title="ğŸ“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éè‡ªå·±æŒæœ‰çš„å¯¹è±¡æ— æ³•é‡Šæ”¾ã€‚"></a>ğŸ“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éè‡ªå·±æŒæœ‰çš„å¯¹è±¡æ— æ³•é‡Šæ”¾ã€‚</h5><blockquote>
<p>é<code>alloc/new/copy/mutableCopy</code>æ–¹æ³•ç”Ÿæˆå¹¶æŒæœ‰çš„ï¼Œæˆ–ä½¿ç”¨<code>retain</code>æ–¹æ³•æŒæœ‰çš„å¯¹è±¡ï¼Œä¸èƒ½è¿›è¡Œé‡Šæ”¾ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *view1 = [[<span class="built_in">UIView</span> alloc] init];</div><div class="line">[view1 release];<span class="comment">//ä½ å·²ç»å¤±å»æˆ‘äº†ã„Ÿ( â–”, â–” )ã„</span></div><div class="line">[view1 release];<span class="comment">//å†æ¬¡é‡Šæ”¾å·²ç»åºŸå¼ƒçš„å¯¹è±¡æˆ–è€…è¯´éè‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œç¨‹åºå°±ä¼šå´©æºƒã€‚</span></div></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *str = [<span class="built_in">NSMutableString</span> stringWithFormat:<span class="string">@"Hello World!"</span>];</div><div class="line">[str release];<span class="comment">//é‡Šæ”¾äº†éè‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œç¨‹åºå´©æºƒã€‚</span></div></pre></td></tr></table></figure>
<p>ä¸€èˆ¬ç”¨<code>alloc/new/copy/mutableCopy</code>æ–¹æ³•ä»¥å¤–çš„æ–¹æ³•ç”Ÿæˆçš„å¯¹è±¡éƒ½è¢«å£°æ˜äº†autoreleaseï¼Œautoreleaseä¼šè‡ªåŠ¨å»¶è¿Ÿé‡Šæ”¾å†…å­˜ï¼Œä¸ç”¨æ‰‹åŠ¨é‡Šæ”¾ï¼Œç³»ç»Ÿä¼šåœ¨åˆé€‚çš„æ—¶å€™å»é‡Šæ”¾æ‰å®ƒã€‚<br>ä½¿ç”¨<code>alloc/new/copy/mutableCopy</code>æ–¹æ³•åˆ›å»ºçš„åŠ<code>retain</code>æ–¹æ³•æŒæœ‰çš„å¯¹è±¡æ‰éœ€è¦å»è€ƒè™‘å¼•ç”¨è®¡æ•°ã€‚</p>
<h5 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h5><p>è° <code>alloc/new/copy/mutableCopy</code>ï¼Œè° <code>release</code>ã€‚<br>è° <code>retain</code>ï¼Œè° <code>release</code>ã€‚<br>å³ï¼š<br>A <code>alloc/new/copy/mutableCopy</code>çš„æ¬¡æ•°å¿…é¡»ç­‰äº A <code>release</code>/<code>autorelease</code>çš„æ¬¡æ•°ã€‚<br>B <code>retain</code>çš„æ¬¡æ•°å¿…é¡»ç­‰äº B <code>release</code>çš„æ¬¡æ•°ã€‚</p>

            <!-- / the end of articles -->
        </div>
        <!-- / left section -->
        
        
            <hr/>
            <div id="disqus_thread" style=" margin-top: 15px; margin-bottom: 25px; "></div>
            <script>
                /**
                *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
                /*
                var disqus_config = function () {
                this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                };
                */
                (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://morgan-hexo-theme.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        

        <!-- Next Post and Prev Post -->
        
        <hr/>
        <div class="next-prev-post-section">
            
                <a href="#"></a>
            
            
                <a href="/2017/08/11/FIRST-COMMIT/" class="styled-border">
                    
                    FIRST COMMIT
                    â†’
                </a>
            
        </div>
        
</div>
<script type="text/javascript">
    let img = document.getElementsByTagName("img");
    for(let i = 0; i < img.length; i++){
        img[i].className += " ts fluid image";
    }
</script>
<!-- / main section -->

<!-- copyright -->
<div class="ts attached secondary segment">
    <div class="ts narrow container">
        <br>
        <div class="ts large center aligned header">
            <a class="theme-link" href="http://weibo.com/wan497" target="_blank"><img src="https://github.com/ECHANEEZYY/BlogPhotos/blob/master/weibo.png?raw=true" width="28" height="28"/></a>&nbsp;&nbsp;&nbsp;
            <a class="theme-link" href="https://www.instagram.com/echanlsakfjoisyyzzz" target="_blank"><img src="https://github.com/ECHANEEZYY/BlogPhotos/blob/master/instagram.png?raw=true" width="28" height="28"/></a>&nbsp;&nbsp;&nbsp;
            <a class="theme-link" href="https://github.com/ECHANEEZYY" target="_blank"><img src="https://github.com/ECHANEEZYY/BlogPhotos/blob/master/github.png?raw=true" width="28" height="28"/></a>
            <br></br>
            <div class="smaller sub header">
                2017&nbsp;ğŸš€&nbsp;ECHANEEZYY
            </div>
        </div>
        <br>
    </div>
</div>
<!-- / copyright -->
<script type="text/javascript">
    
    const slogans = ["A SUPER COOL BOY FROM NANAO ISLAND.","CHASE THE SUN"];
</script>
<script src="/js/script.js"></script>
</body>
</html>